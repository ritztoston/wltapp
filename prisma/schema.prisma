datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id         String      @id @default(cuid())
  auth0Id    String      @unique
  email      String      @unique
  firstName  String
  lastName   String
  image      String
  createdAt  String
  onBoarding Boolean     @default(false)
  classrooms Classroom[] @relation("Students")
  moderated  Classroom[] @relation("Owner")
  posts      Post[]
}

model Classroom {
  id        String  @id @default(cuid())
  name      String  @unique
  active    Boolean @default(true)
  createdAt String
  ownerId   String
  owner     User    @relation("Owner", fields: [ownerId], references: [id])
  students  User[]  @relation("Students")
  posts     Post[]
}

model Post {
  id         String      @id @default(cuid())
  content    String
  createdAt  String
  updatedAt  String?
  authorId   String
  author     User        @relation(fields: [authorId], references: [id])
  classrooms Classroom[]
  replies    Post[]      @relation("PostReply")
  postId     String?
  post       Post?       @relation("PostReply", fields: [postId], references: [id])
}

model Session {
  id   String @id @default(uuid())
  ttl  Int?
  data String
}
